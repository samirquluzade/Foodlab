{"id":"LRju","dependencies":[{"name":"D:\\WebstormProjects\\foodlab\\package.json","includedInParent":true,"mtime":1658081822400},{"name":"D:\\WebstormProjects\\foodlab\\.babelrc","includedInParent":true,"mtime":1658041983236},{"name":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\package.json","includedInParent":true,"mtime":1657037668134},{"name":"punycode","loc":{"line":3,"column":25,"index":40},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\dkim\\sign.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\punycode\\punycode.js"},{"name":"../mime-funcs","loc":{"line":4,"column":26,"index":79},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\dkim\\sign.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\mime-funcs\\index.js"},{"name":"crypto","loc":{"line":5,"column":23,"index":120},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\dkim\\sign.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\crypto-browserify\\index.js"}],"generated":{"js":"\"use strict\";var e=require(\"punycode\"),r=require(\"../mime-funcs\"),t=require(\"crypto\");function n(t,n,s,i,a){var o=[\"v=1\",\"a=rsa-\"+i,\"c=relaxed/relaxed\",\"d=\"+e.toASCII(t),\"q=dns/txt\",\"s=\"+n,\"bh=\"+a,\"h=\"+s].join(\"; \");return r.foldLines(\"DKIM-Signature: \"+o,76)+\";\\r\\n b=\"}function s(e,r,t){var n=new Set,s=new Set,a=new Map;(t||\"\").toLowerCase().split(\":\").forEach(function(e){s.add(e.trim())}),(r||\"\").toLowerCase().split(\":\").filter(function(e){return!s.has(e.trim())}).forEach(function(e){n.add(e.trim())});for(var o=e.length-1;o>=0;o--){var c=e[o];n.has(c.key)&&!a.has(c.key)&&a.set(c.key,i(c.line))}var u=[],d=[];return n.forEach(function(e){a.has(e)&&(d.push(e),u.push(e+\":\"+a.get(e)))}),{headers:u.join(\"\\r\\n\")+\"\\r\\n\",fieldNames:d.join(\":\")}}function i(e){return e.substr(e.indexOf(\":\")+1).replace(/\\r?\\n/g,\"\").replace(/\\s+/g,\" \").trim()}module.exports=function(e,r,a,o){var c,u,d=s(e,(o=o||{}).headerFieldNames||\"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive\",o.skipFields),l=n(o.domainName,o.keySelector,d.fieldNames,r,a);d.headers+=\"dkim-signature:\"+i(l),(c=t.createSign((\"rsa-\"+r).toUpperCase())).update(d.headers);try{u=c.sign(o.privateKey,\"base64\")}catch(p){return!1}return l+u.replace(/(^.{73}|.{75}(?!\\r?\\n|\\r))/g,\"$&\\r\\n \").trim()},module.exports.relaxedHeaders=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"punycode","original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"require","original":{"line":3,"column":17},"generated":{"line":1,"column":19}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":3,"column":25},"generated":{"line":1,"column":27}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"mimeFuncs","original":{"line":4,"column":6},"generated":{"line":1,"column":39}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"require","original":{"line":4,"column":18},"generated":{"line":1,"column":41}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":4,"column":26},"generated":{"line":1,"column":49}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"crypto","original":{"line":5,"column":6},"generated":{"line":1,"column":66}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"require","original":{"line":5,"column":15},"generated":{"line":1,"column":68}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":5,"column":23},"generated":{"line":1,"column":76}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":53,"column":0},"generated":{"line":1,"column":86}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"generateDKIMHeader","original":{"line":53,"column":9},"generated":{"line":1,"column":95}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"domainName","original":{"line":53,"column":28},"generated":{"line":1,"column":97}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"keySelector","original":{"line":53,"column":40},"generated":{"line":1,"column":99}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":53,"column":53},"generated":{"line":1,"column":101}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"hashAlgo","original":{"line":53,"column":65},"generated":{"line":1,"column":103}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"bodyHash","original":{"line":53,"column":75},"generated":{"line":1,"column":105}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":54,"column":4},"generated":{"line":1,"column":108}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"dkim","original":{"line":54,"column":8},"generated":{"line":1,"column":112}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":54,"column":15},"generated":{"line":1,"column":114}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":55,"column":8},"generated":{"line":1,"column":115}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":56,"column":8},"generated":{"line":1,"column":121}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"hashAlgo","original":{"line":56,"column":19},"generated":{"line":1,"column":130}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":57,"column":8},"generated":{"line":1,"column":132}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":58,"column":8},"generated":{"line":1,"column":152}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"punycode","original":{"line":58,"column":15},"generated":{"line":1,"column":157}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"toASCII","original":{"line":58,"column":24},"generated":{"line":1,"column":159}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"domainName","original":{"line":58,"column":32},"generated":{"line":1,"column":167}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":59,"column":8},"generated":{"line":1,"column":170}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":60,"column":8},"generated":{"line":1,"column":182}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"keySelector","original":{"line":60,"column":15},"generated":{"line":1,"column":187}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":61,"column":8},"generated":{"line":1,"column":189}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"bodyHash","original":{"line":61,"column":16},"generated":{"line":1,"column":195}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":62,"column":8},"generated":{"line":1,"column":197}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":62,"column":15},"generated":{"line":1,"column":202}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"join","original":{"line":63,"column":6},"generated":{"line":1,"column":205}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":63,"column":11},"generated":{"line":1,"column":210}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":65,"column":4},"generated":{"line":1,"column":216}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"mimeFuncs","original":{"line":65,"column":11},"generated":{"line":1,"column":223}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"foldLines","original":{"line":65,"column":21},"generated":{"line":1,"column":225}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":65,"column":31},"generated":{"line":1,"column":235}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"dkim","original":{"line":65,"column":52},"generated":{"line":1,"column":254}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":65,"column":58},"generated":{"line":1,"column":256}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":65,"column":64},"generated":{"line":1,"column":260}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":68,"column":0},"generated":{"line":1,"column":271}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaders","original":{"line":68,"column":9},"generated":{"line":1,"column":280}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":68,"column":24},"generated":{"line":1,"column":282}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":68,"column":33},"generated":{"line":1,"column":284}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skipFields","original":{"line":68,"column":45},"generated":{"line":1,"column":286}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":69,"column":4},"generated":{"line":1,"column":289}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"includedFields","original":{"line":69,"column":8},"generated":{"line":1,"column":293}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":69,"column":25},"generated":{"line":1,"column":295}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"Set","original":{"line":69,"column":29},"generated":{"line":1,"column":299}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skip","original":{"line":70,"column":8},"generated":{"line":1,"column":303}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":70,"column":15},"generated":{"line":1,"column":305}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"Set","original":{"line":70,"column":19},"generated":{"line":1,"column":309}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFields","original":{"line":71,"column":8},"generated":{"line":1,"column":313}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":71,"column":23},"generated":{"line":1,"column":315}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"Map","original":{"line":71,"column":27},"generated":{"line":1,"column":319}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skipFields","original":{"line":73,"column":5},"generated":{"line":1,"column":324}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":73,"column":19},"generated":{"line":1,"column":327}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"toLowerCase","original":{"line":74,"column":9},"generated":{"line":1,"column":331}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"split","original":{"line":75,"column":9},"generated":{"line":1,"column":345}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":75,"column":15},"generated":{"line":1,"column":351}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"forEach","original":{"line":76,"column":9},"generated":{"line":1,"column":356}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":76,"column":17},"generated":{"line":1,"column":364}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":76,"column":17},"generated":{"line":1,"column":373}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skip","original":{"line":77,"column":12},"generated":{"line":1,"column":376}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"add","original":{"line":77,"column":17},"generated":{"line":1,"column":378}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":77,"column":21},"generated":{"line":1,"column":382}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"trim","original":{"line":77,"column":27},"generated":{"line":1,"column":384}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":80,"column":5},"generated":{"line":1,"column":395}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":80,"column":19},"generated":{"line":1,"column":398}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"toLowerCase","original":{"line":81,"column":9},"generated":{"line":1,"column":402}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"split","original":{"line":82,"column":9},"generated":{"line":1,"column":416}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":82,"column":15},"generated":{"line":1,"column":422}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"filter","original":{"line":83,"column":9},"generated":{"line":1,"column":427}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":83,"column":16},"generated":{"line":1,"column":434}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":83,"column":16},"generated":{"line":1,"column":443}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":83,"column":21},"generated":{"line":1,"column":446}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skip","original":{"line":83,"column":26},"generated":{"line":1,"column":453}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"has","original":{"line":83,"column":31},"generated":{"line":1,"column":455}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":83,"column":35},"generated":{"line":1,"column":459}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"trim","original":{"line":83,"column":41},"generated":{"line":1,"column":461}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"forEach","original":{"line":84,"column":9},"generated":{"line":1,"column":471}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":84,"column":17},"generated":{"line":1,"column":479}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":84,"column":17},"generated":{"line":1,"column":488}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"includedFields","original":{"line":85,"column":12},"generated":{"line":1,"column":491}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"add","original":{"line":85,"column":27},"generated":{"line":1,"column":493}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":85,"column":31},"generated":{"line":1,"column":497}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"trim","original":{"line":85,"column":37},"generated":{"line":1,"column":499}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":88,"column":4},"generated":{"line":1,"column":509}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":88,"column":9},"generated":{"line":1,"column":513}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"i","original":{"line":88,"column":13},"generated":{"line":1,"column":517}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":88,"column":17},"generated":{"line":1,"column":519}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"length","original":{"line":88,"column":25},"generated":{"line":1,"column":521}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":88,"column":34},"generated":{"line":1,"column":528}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"i","original":{"line":88,"column":37},"generated":{"line":1,"column":530}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":88,"column":42},"generated":{"line":1,"column":533}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"i","original":{"line":88,"column":45},"generated":{"line":1,"column":535}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":88,"column":50},"generated":{"line":1,"column":539}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":89,"column":8},"generated":{"line":1,"column":540}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":89,"column":12},"generated":{"line":1,"column":544}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":89,"column":19},"generated":{"line":1,"column":546}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"i","original":{"line":89,"column":27},"generated":{"line":1,"column":548}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"includedFields","original":{"line":91,"column":12},"generated":{"line":1,"column":551}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"has","original":{"line":91,"column":27},"generated":{"line":1,"column":553}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":91,"column":31},"generated":{"line":1,"column":557}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"key","original":{"line":91,"column":36},"generated":{"line":1,"column":559}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFields","original":{"line":91,"column":45},"generated":{"line":1,"column":566}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"has","original":{"line":91,"column":58},"generated":{"line":1,"column":568}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":91,"column":62},"generated":{"line":1,"column":572}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"key","original":{"line":91,"column":67},"generated":{"line":1,"column":574}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFields","original":{"line":92,"column":12},"generated":{"line":1,"column":580}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"set","original":{"line":92,"column":25},"generated":{"line":1,"column":582}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":92,"column":29},"generated":{"line":1,"column":586}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"key","original":{"line":92,"column":34},"generated":{"line":1,"column":588}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaderLine","original":{"line":92,"column":39},"generated":{"line":1,"column":592}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":92,"column":57},"generated":{"line":1,"column":594}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":92,"column":62},"generated":{"line":1,"column":596}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":96,"column":4},"generated":{"line":1,"column":603}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headersList","original":{"line":96,"column":8},"generated":{"line":1,"column":607}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":96,"column":22},"generated":{"line":1,"column":609}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fields","original":{"line":97,"column":8},"generated":{"line":1,"column":612}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":97,"column":17},"generated":{"line":1,"column":614}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":105,"column":4},"generated":{"line":1,"column":617}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"includedFields","original":{"line":98,"column":4},"generated":{"line":1,"column":624}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"forEach","original":{"line":98,"column":19},"generated":{"line":1,"column":626}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":98,"column":27},"generated":{"line":1,"column":634}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":98,"column":27},"generated":{"line":1,"column":643}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFields","original":{"line":99,"column":12},"generated":{"line":1,"column":646}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"has","original":{"line":99,"column":25},"generated":{"line":1,"column":648}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":99,"column":29},"generated":{"line":1,"column":652}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fields","original":{"line":100,"column":12},"generated":{"line":1,"column":657}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"push","original":{"line":100,"column":19},"generated":{"line":1,"column":659}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":100,"column":24},"generated":{"line":1,"column":664}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headersList","original":{"line":101,"column":12},"generated":{"line":1,"column":667}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"push","original":{"line":101,"column":24},"generated":{"line":1,"column":669}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":101,"column":29},"generated":{"line":1,"column":674}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":101,"column":37},"generated":{"line":1,"column":676}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFields","original":{"line":101,"column":43},"generated":{"line":1,"column":680}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"get","original":{"line":101,"column":56},"generated":{"line":1,"column":682}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"field","original":{"line":101,"column":60},"generated":{"line":1,"column":686}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":105,"column":11},"generated":{"line":1,"column":693}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":106,"column":8},"generated":{"line":1,"column":694}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headersList","original":{"line":106,"column":17},"generated":{"line":1,"column":702}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"join","original":{"line":106,"column":29},"generated":{"line":1,"column":704}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":106,"column":34},"generated":{"line":1,"column":709}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":106,"column":44},"generated":{"line":1,"column":717}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":107,"column":8},"generated":{"line":1,"column":724}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fields","original":{"line":107,"column":20},"generated":{"line":1,"column":735}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"join","original":{"line":107,"column":27},"generated":{"line":1,"column":737}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":107,"column":32},"generated":{"line":1,"column":742}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":111,"column":0},"generated":{"line":1,"column":748}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaderLine","original":{"line":111,"column":9},"generated":{"line":1,"column":757}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":111,"column":27},"generated":{"line":1,"column":759}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":112,"column":4},"generated":{"line":1,"column":762}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":112,"column":11},"generated":{"line":1,"column":769}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"substr","original":{"line":113,"column":9},"generated":{"line":1,"column":771}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"line","original":{"line":113,"column":16},"generated":{"line":1,"column":778}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"indexOf","original":{"line":113,"column":21},"generated":{"line":1,"column":780}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":113,"column":29},"generated":{"line":1,"column":788}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":113,"column":36},"generated":{"line":1,"column":793}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"replace","original":{"line":114,"column":9},"generated":{"line":1,"column":796}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":114,"column":17},"generated":{"line":1,"column":804}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":114,"column":27},"generated":{"line":1,"column":813}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"replace","original":{"line":115,"column":9},"generated":{"line":1,"column":817}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":115,"column":17},"generated":{"line":1,"column":825}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":115,"column":25},"generated":{"line":1,"column":832}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"trim","original":{"line":116,"column":9},"generated":{"line":1,"column":837}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"module","original":{"line":19,"column":0},"generated":{"line":1,"column":844}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"exports","original":{"line":19,"column":7},"generated":{"line":1,"column":851}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":19,"column":17},"generated":{"line":1,"column":859}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":19,"column":18},"generated":{"line":1,"column":868}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"hashAlgo","original":{"line":19,"column":27},"generated":{"line":1,"column":870}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"bodyHash","original":{"line":19,"column":37},"generated":{"line":1,"column":872}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":19,"column":47},"generated":{"line":1,"column":874}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":23,"column":4},"generated":{"line":1,"column":877}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signer","original":{"line":36,"column":8},"generated":{"line":1,"column":881}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signature","original":{"line":36,"column":16},"generated":{"line":1,"column":883}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"canonicalizedHeaderData","original":{"line":33,"column":8},"generated":{"line":1,"column":885}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaders","original":{"line":33,"column":34},"generated":{"line":1,"column":887}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":33,"column":49},"generated":{"line":1,"column":889}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":20,"column":4},"generated":{"line":1,"column":892}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":20,"column":14},"generated":{"line":1,"column":894}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":20,"column":25},"generated":{"line":1,"column":897}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headerFieldNames","original":{"line":31,"column":29},"generated":{"line":1,"column":901}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":24,"column":8},"generated":{"line":1,"column":919}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":33,"column":70},"generated":{"line":1,"column":1238}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"skipFields","original":{"line":33,"column":78},"generated":{"line":1,"column":1240}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"dkimHeader","original":{"line":34,"column":8},"generated":{"line":1,"column":1252}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"generateDKIMHeader","original":{"line":34,"column":21},"generated":{"line":1,"column":1254}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":34,"column":40},"generated":{"line":1,"column":1256}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"domainName","original":{"line":34,"column":48},"generated":{"line":1,"column":1258}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":34,"column":60},"generated":{"line":1,"column":1269}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"keySelector","original":{"line":34,"column":68},"generated":{"line":1,"column":1271}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"canonicalizedHeaderData","original":{"line":34,"column":81},"generated":{"line":1,"column":1283}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"fieldNames","original":{"line":34,"column":105},"generated":{"line":1,"column":1285}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"hashAlgo","original":{"line":34,"column":117},"generated":{"line":1,"column":1296}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"bodyHash","original":{"line":34,"column":127},"generated":{"line":1,"column":1298}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"canonicalizedHeaderData","original":{"line":38,"column":4},"generated":{"line":1,"column":1301}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":38,"column":28},"generated":{"line":1,"column":1303}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":38,"column":39},"generated":{"line":1,"column":1312}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaderLine","original":{"line":38,"column":59},"generated":{"line":1,"column":1330}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"dkimHeader","original":{"line":38,"column":77},"generated":{"line":1,"column":1332}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signer","original":{"line":40,"column":4},"generated":{"line":1,"column":1336}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"crypto","original":{"line":40,"column":13},"generated":{"line":1,"column":1338}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"createSign","original":{"line":40,"column":20},"generated":{"line":1,"column":1340}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":40,"column":32},"generated":{"line":1,"column":1352}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"hashAlgo","original":{"line":40,"column":41},"generated":{"line":1,"column":1359}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"toUpperCase","original":{"line":40,"column":51},"generated":{"line":1,"column":1362}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"update","original":{"line":41,"column":11},"generated":{"line":1,"column":1378}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"canonicalizedHeaderData","original":{"line":41,"column":18},"generated":{"line":1,"column":1385}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"headers","original":{"line":41,"column":42},"generated":{"line":1,"column":1387}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":42,"column":4},"generated":{"line":1,"column":1396}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signature","original":{"line":43,"column":8},"generated":{"line":1,"column":1400}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signer","original":{"line":43,"column":20},"generated":{"line":1,"column":1402}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"sign","original":{"line":43,"column":27},"generated":{"line":1,"column":1404}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"options","original":{"line":43,"column":32},"generated":{"line":1,"column":1409}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"privateKey","original":{"line":43,"column":40},"generated":{"line":1,"column":1411}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":43,"column":52},"generated":{"line":1,"column":1422}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":44,"column":6},"generated":{"line":1,"column":1432}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"E","original":{"line":44,"column":13},"generated":{"line":1,"column":1438}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":45,"column":8},"generated":{"line":1,"column":1441}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":45,"column":15},"generated":{"line":1,"column":1448}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":48,"column":4},"generated":{"line":1,"column":1450}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"dkimHeader","original":{"line":48,"column":11},"generated":{"line":1,"column":1457}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"signature","original":{"line":48,"column":24},"generated":{"line":1,"column":1459}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"replace","original":{"line":48,"column":34},"generated":{"line":1,"column":1461}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":48,"column":42},"generated":{"line":1,"column":1469}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","original":{"line":48,"column":73},"generated":{"line":1,"column":1499}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"trim","original":{"line":48,"column":84},"generated":{"line":1,"column":1510}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"module","original":{"line":51,"column":0},"generated":{"line":1,"column":1518}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"exports","original":{"line":51,"column":7},"generated":{"line":1,"column":1525}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaders","original":{"line":51,"column":15},"generated":{"line":1,"column":1533}},{"source":"../../node_modules/nodemailer/lib/dkim/sign.js","name":"relaxedHeaders","original":{"line":51,"column":32},"generated":{"line":1,"column":1548}}],"sources":{"../../node_modules/nodemailer/lib/dkim/sign.js":"'use strict';\n\nconst punycode = require('punycode');\nconst mimeFuncs = require('../mime-funcs');\nconst crypto = require('crypto');\n\n/**\n * Returns DKIM signature header line\n *\n * @param {Object} headers Parsed headers object from MessageParser\n * @param {String} bodyHash Base64 encoded hash of the message\n * @param {Object} options DKIM options\n * @param {String} options.domainName Domain name to be signed for\n * @param {String} options.keySelector DKIM key selector to use\n * @param {String} options.privateKey DKIM private key to use\n * @return {String} Complete header line\n */\n\nmodule.exports = (headers, hashAlgo, bodyHash, options) => {\n    options = options || {};\n\n    // all listed fields from RFC4871 #5.5\n    let defaultFieldNames =\n        'From:Sender:Reply-To:Subject:Date:Message-ID:To:' +\n        'Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:' +\n        'Content-Description:Resent-Date:Resent-From:Resent-Sender:' +\n        'Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:' +\n        'List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:' +\n        'List-Owner:List-Archive';\n\n    let fieldNames = options.headerFieldNames || defaultFieldNames;\n\n    let canonicalizedHeaderData = relaxedHeaders(headers, fieldNames, options.skipFields);\n    let dkimHeader = generateDKIMHeader(options.domainName, options.keySelector, canonicalizedHeaderData.fieldNames, hashAlgo, bodyHash);\n\n    let signer, signature;\n\n    canonicalizedHeaderData.headers += 'dkim-signature:' + relaxedHeaderLine(dkimHeader);\n\n    signer = crypto.createSign(('rsa-' + hashAlgo).toUpperCase());\n    signer.update(canonicalizedHeaderData.headers);\n    try {\n        signature = signer.sign(options.privateKey, 'base64');\n    } catch (E) {\n        return false;\n    }\n\n    return dkimHeader + signature.replace(/(^.{73}|.{75}(?!\\r?\\n|\\r))/g, '$&\\r\\n ').trim();\n};\n\nmodule.exports.relaxedHeaders = relaxedHeaders;\n\nfunction generateDKIMHeader(domainName, keySelector, fieldNames, hashAlgo, bodyHash) {\n    let dkim = [\n        'v=1',\n        'a=rsa-' + hashAlgo,\n        'c=relaxed/relaxed',\n        'd=' + punycode.toASCII(domainName),\n        'q=dns/txt',\n        's=' + keySelector,\n        'bh=' + bodyHash,\n        'h=' + fieldNames\n    ].join('; ');\n\n    return mimeFuncs.foldLines('DKIM-Signature: ' + dkim, 76) + ';\\r\\n b=';\n}\n\nfunction relaxedHeaders(headers, fieldNames, skipFields) {\n    let includedFields = new Set();\n    let skip = new Set();\n    let headerFields = new Map();\n\n    (skipFields || '')\n        .toLowerCase()\n        .split(':')\n        .forEach(field => {\n            skip.add(field.trim());\n        });\n\n    (fieldNames || '')\n        .toLowerCase()\n        .split(':')\n        .filter(field => !skip.has(field.trim()))\n        .forEach(field => {\n            includedFields.add(field.trim());\n        });\n\n    for (let i = headers.length - 1; i >= 0; i--) {\n        let line = headers[i];\n        // only include the first value from bottom to top\n        if (includedFields.has(line.key) && !headerFields.has(line.key)) {\n            headerFields.set(line.key, relaxedHeaderLine(line.line));\n        }\n    }\n\n    let headersList = [];\n    let fields = [];\n    includedFields.forEach(field => {\n        if (headerFields.has(field)) {\n            fields.push(field);\n            headersList.push(field + ':' + headerFields.get(field));\n        }\n    });\n\n    return {\n        headers: headersList.join('\\r\\n') + '\\r\\n',\n        fieldNames: fields.join(':')\n    };\n}\n\nfunction relaxedHeaderLine(line) {\n    return line\n        .substr(line.indexOf(':') + 1)\n        .replace(/\\r?\\n/g, '')\n        .replace(/\\s+/g, ' ')\n        .trim();\n}\n"},"lineCount":null}},"error":null,"hash":"b2a69263e8fad98258a5ed4bf3e7b346","cacheData":{"env":{}}}