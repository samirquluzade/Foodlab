{"id":"hOWn","dependencies":[{"name":"D:\\WebstormProjects\\foodlab\\package.json","includedInParent":true,"mtime":1658081822400},{"name":"D:\\WebstormProjects\\foodlab\\.babelrc","includedInParent":true,"mtime":1658041983236},{"name":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\package.json","includedInParent":true,"mtime":1657037668134},{"name":"../../package.json","loc":{"line":3,"column":28,"index":43},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\json-transport\\index.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\package.json"},{"name":"../shared","loc":{"line":4,"column":23,"index":89},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\json-transport\\index.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\nodemailer\\lib\\shared\\index.js"}],"generated":{"js":"\"use strict\";function e(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var o=require(\"../../package.json\"),s=require(\"../shared\"),r=function(){function n(t){e(this,n),t=t||{},this.options=t||{},this.name=\"JSONTransport\",this.version=o.version,this.logger=s.getLogger(this.options,{component:this.options.component||\"json-transport\"})}return t(n,[{key:\"send\",value:function(e,n){var t=this;e.message.keepBcc=!0;var o=e.data.envelope||e.message.getEnvelope(),s=e.message.messageId(),r=[].concat(o.to||[]);r.length>3&&r.push(\"...and \"+r.splice(2).length+\" more\"),this.logger.info({tnx:\"send\",messageId:s},\"Composing JSON structure of %s to <%s>\",s,r.join(\", \")),setImmediate(function(){e.normalize(function(e,r){return e?(t.logger.error({err:e,tnx:\"send\",messageId:s},\"Failed building JSON structure for %s. %s\",s,e.message),n(e)):(delete r.envelope,delete r.normalizedHeaders,n(null,{envelope:o,messageId:s,message:t.options.skipEncoding?r:JSON.stringify(r)}))})})}}]),n}();module.exports=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":13}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":22}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":24}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":26}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":29}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":34}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":47}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":50}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":56}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":60}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":70}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":107}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":116}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":118}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":120}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":123}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":127}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":131}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":133}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":135}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":137}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":139}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":146}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":150}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":151}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":155}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":157}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":159}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":162}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":164}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":175}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":177}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":190}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":192}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":194}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":208}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":210}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":220}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":224}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":226}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":236}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":239}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":246}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":261}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":263}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":265}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":269}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":273}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":282}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":284}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":286}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":288}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":291}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":298}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":301}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":303}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":305}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":315}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":318}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":321}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":323}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":325}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":328}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":335}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":350}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":352}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":364}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":365}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":375}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":379}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":381}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"packageData","original":{"line":3,"column":6},"generated":{"line":1,"column":385}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"require","original":{"line":3,"column":20},"generated":{"line":1,"column":387}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":3,"column":28},"generated":{"line":1,"column":395}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"shared","original":{"line":4,"column":6},"generated":{"line":1,"column":417}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"require","original":{"line":4,"column":15},"generated":{"line":1,"column":419}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":4,"column":23},"generated":{"line":1,"column":427}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"JSONTransport","original":{"line":12,"column":6},"generated":{"line":1,"column":440}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"JSONTransport","original":{"line":12,"column":6},"generated":{"line":1,"column":442}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":13,"column":4},"generated":{"line":1,"column":453}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":13,"column":16},"generated":{"line":1,"column":462}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":13,"column":16},"generated":{"line":1,"column":464}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":13,"column":25},"generated":{"line":1,"column":467}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":13,"column":25},"generated":{"line":1,"column":469}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":13,"column":25},"generated":{"line":1,"column":474}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":14,"column":8},"generated":{"line":1,"column":477}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":14,"column":18},"generated":{"line":1,"column":479}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":14,"column":29},"generated":{"line":1,"column":482}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":16,"column":8},"generated":{"line":1,"column":485}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":16,"column":13},"generated":{"line":1,"column":490}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":16,"column":23},"generated":{"line":1,"column":498}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":16,"column":34},"generated":{"line":1,"column":501}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":18,"column":8},"generated":{"line":1,"column":504}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"name","original":{"line":18,"column":13},"generated":{"line":1,"column":509}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":18,"column":20},"generated":{"line":1,"column":514}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":19,"column":8},"generated":{"line":1,"column":530}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"version","original":{"line":19,"column":13},"generated":{"line":1,"column":535}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"packageData","original":{"line":19,"column":23},"generated":{"line":1,"column":543}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"version","original":{"line":19,"column":35},"generated":{"line":1,"column":545}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":21,"column":8},"generated":{"line":1,"column":553}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"logger","original":{"line":21,"column":13},"generated":{"line":1,"column":558}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"shared","original":{"line":21,"column":22},"generated":{"line":1,"column":565}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"getLogger","original":{"line":21,"column":29},"generated":{"line":1,"column":567}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":21,"column":39},"generated":{"line":1,"column":577}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":21,"column":44},"generated":{"line":1,"column":582}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":21,"column":53},"generated":{"line":1,"column":590}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"component","original":{"line":22,"column":12},"generated":{"line":1,"column":591}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":22,"column":23},"generated":{"line":1,"column":601}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":22,"column":28},"generated":{"line":1,"column":606}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"component","original":{"line":22,"column":36},"generated":{"line":1,"column":614}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":22,"column":49},"generated":{"line":1,"column":625}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":644}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":651}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":653}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":655}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":656}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":657}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":661}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":32,"column":4},"generated":{"line":1,"column":668}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":32,"column":4},"generated":{"line":1,"column":674}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":32,"column":9},"generated":{"line":1,"column":683}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"done","original":{"line":32,"column":15},"generated":{"line":1,"column":685}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":32,"column":21},"generated":{"line":1,"column":688}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":32,"column":21},"generated":{"line":1,"column":692}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":32,"column":21},"generated":{"line":1,"column":694}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":34,"column":8},"generated":{"line":1,"column":699}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"message","original":{"line":34,"column":13},"generated":{"line":1,"column":701}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"keepBcc","original":{"line":34,"column":21},"generated":{"line":1,"column":709}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":34,"column":31},"generated":{"line":1,"column":718}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":36,"column":8},"generated":{"line":1,"column":720}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":36,"column":12},"generated":{"line":1,"column":724}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":36,"column":23},"generated":{"line":1,"column":726}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":36,"column":28},"generated":{"line":1,"column":728}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":36,"column":33},"generated":{"line":1,"column":733}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":36,"column":45},"generated":{"line":1,"column":743}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"message","original":{"line":36,"column":50},"generated":{"line":1,"column":745}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"getEnvelope","original":{"line":36,"column":58},"generated":{"line":1,"column":753}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":37,"column":12},"generated":{"line":1,"column":767}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":37,"column":24},"generated":{"line":1,"column":769}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"message","original":{"line":37,"column":29},"generated":{"line":1,"column":771}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":37,"column":37},"generated":{"line":1,"column":779}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"recipients","original":{"line":39,"column":12},"generated":{"line":1,"column":791}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":39,"column":25},"generated":{"line":1,"column":793}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"concat","original":{"line":39,"column":28},"generated":{"line":1,"column":796}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":39,"column":35},"generated":{"line":1,"column":803}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"to","original":{"line":39,"column":44},"generated":{"line":1,"column":805}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":39,"column":50},"generated":{"line":1,"column":809}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"recipients","original":{"line":40,"column":12},"generated":{"line":1,"column":813}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"length","original":{"line":40,"column":23},"generated":{"line":1,"column":815}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":40,"column":32},"generated":{"line":1,"column":822}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"recipients","original":{"line":41,"column":12},"generated":{"line":1,"column":825}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"push","original":{"line":41,"column":23},"generated":{"line":1,"column":827}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":41,"column":28},"generated":{"line":1,"column":832}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"recipients","original":{"line":41,"column":40},"generated":{"line":1,"column":842}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"splice","original":{"line":41,"column":51},"generated":{"line":1,"column":844}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":41,"column":58},"generated":{"line":1,"column":851}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"length","original":{"line":41,"column":61},"generated":{"line":1,"column":854}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":41,"column":70},"generated":{"line":1,"column":861}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":43,"column":8},"generated":{"line":1,"column":870}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"logger","original":{"line":43,"column":13},"generated":{"line":1,"column":875}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"info","original":{"line":43,"column":20},"generated":{"line":1,"column":882}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":44,"column":12},"generated":{"line":1,"column":887}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"tnx","original":{"line":45,"column":16},"generated":{"line":1,"column":888}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":45,"column":21},"generated":{"line":1,"column":892}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":46,"column":16},"generated":{"line":1,"column":899}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":46,"column":16},"generated":{"line":1,"column":909}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":48,"column":12},"generated":{"line":1,"column":912}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":49,"column":12},"generated":{"line":1,"column":953}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"recipients","original":{"line":50,"column":12},"generated":{"line":1,"column":955}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"join","original":{"line":50,"column":23},"generated":{"line":1,"column":957}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":50,"column":28},"generated":{"line":1,"column":962}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"setImmediate","original":{"line":53,"column":8},"generated":{"line":1,"column":969}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":53,"column":21},"generated":{"line":1,"column":982}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"mail","original":{"line":54,"column":12},"generated":{"line":1,"column":993}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"normalize","original":{"line":54,"column":17},"generated":{"line":1,"column":995}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":54,"column":27},"generated":{"line":1,"column":1005}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":54,"column":28},"generated":{"line":1,"column":1014}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":54,"column":33},"generated":{"line":1,"column":1016}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":55,"column":16},"generated":{"line":1,"column":1019}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":55,"column":20},"generated":{"line":1,"column":1026}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":56,"column":20},"generated":{"line":1,"column":1029}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"logger","original":{"line":56,"column":25},"generated":{"line":1,"column":1031}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"error","original":{"line":56,"column":32},"generated":{"line":1,"column":1038}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":57,"column":24},"generated":{"line":1,"column":1044}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":58,"column":28},"generated":{"line":1,"column":1045}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":58,"column":28},"generated":{"line":1,"column":1049}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"tnx","original":{"line":59,"column":28},"generated":{"line":1,"column":1051}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":59,"column":33},"generated":{"line":1,"column":1055}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":60,"column":28},"generated":{"line":1,"column":1062}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":60,"column":28},"generated":{"line":1,"column":1072}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":62,"column":24},"generated":{"line":1,"column":1075}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":63,"column":24},"generated":{"line":1,"column":1119}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":64,"column":24},"generated":{"line":1,"column":1121}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"message","original":{"line":64,"column":28},"generated":{"line":1,"column":1123}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"done","original":{"line":66,"column":27},"generated":{"line":1,"column":1132}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"err","original":{"line":66,"column":32},"generated":{"line":1,"column":1134}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":69,"column":23},"generated":{"line":1,"column":1146}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":69,"column":28},"generated":{"line":1,"column":1148}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":70,"column":23},"generated":{"line":1,"column":1164}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"normalizedHeaders","original":{"line":70,"column":28},"generated":{"line":1,"column":1166}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"done","original":{"line":72,"column":23},"generated":{"line":1,"column":1184}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":72,"column":28},"generated":{"line":1,"column":1186}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":72,"column":34},"generated":{"line":1,"column":1191}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":73,"column":20},"generated":{"line":1,"column":1192}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"envelope","original":{"line":73,"column":20},"generated":{"line":1,"column":1201}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":74,"column":20},"generated":{"line":1,"column":1203}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"messageId","original":{"line":74,"column":20},"generated":{"line":1,"column":1213}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"message","original":{"line":75,"column":20},"generated":{"line":1,"column":1215}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":75,"column":29},"generated":{"line":1,"column":1223}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"options","original":{"line":75,"column":34},"generated":{"line":1,"column":1225}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"skipEncoding","original":{"line":75,"column":42},"generated":{"line":1,"column":1233}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":75,"column":57},"generated":{"line":1,"column":1246}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"JSON","original":{"line":75,"column":64},"generated":{"line":1,"column":1248}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"stringify","original":{"line":75,"column":69},"generated":{"line":1,"column":1253}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"data","original":{"line":75,"column":79},"generated":{"line":1,"column":1263}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1277}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"JSONTransport","original":{"line":12,"column":6},"generated":{"line":1,"column":1279}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"module","original":{"line":82,"column":0},"generated":{"line":1,"column":1282}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"exports","original":{"line":82,"column":7},"generated":{"line":1,"column":1289}},{"source":"../../node_modules/nodemailer/lib/json-transport/index.js","name":"JSONTransport","original":{"line":82,"column":17},"generated":{"line":1,"column":1297}}],"sources":{"../../node_modules/nodemailer/lib/json-transport/index.js":"'use strict';\n\nconst packageData = require('../../package.json');\nconst shared = require('../shared');\n\n/**\n * Generates a Transport object to generate JSON output\n *\n * @constructor\n * @param {Object} optional config parameter\n */\nclass JSONTransport {\n    constructor(options) {\n        options = options || {};\n\n        this.options = options || {};\n\n        this.name = 'JSONTransport';\n        this.version = packageData.version;\n\n        this.logger = shared.getLogger(this.options, {\n            component: this.options.component || 'json-transport'\n        });\n    }\n\n    /**\n     * <p>Compiles a mailcomposer message and forwards it to handler that sends it.</p>\n     *\n     * @param {Object} emailMessage MailComposer object\n     * @param {Function} callback Callback function to run when the sending is completed\n     */\n    send(mail, done) {\n        // Sendmail strips this header line by itself\n        mail.message.keepBcc = true;\n\n        let envelope = mail.data.envelope || mail.message.getEnvelope();\n        let messageId = mail.message.messageId();\n\n        let recipients = [].concat(envelope.to || []);\n        if (recipients.length > 3) {\n            recipients.push('...and ' + recipients.splice(2).length + ' more');\n        }\n        this.logger.info(\n            {\n                tnx: 'send',\n                messageId\n            },\n            'Composing JSON structure of %s to <%s>',\n            messageId,\n            recipients.join(', ')\n        );\n\n        setImmediate(() => {\n            mail.normalize((err, data) => {\n                if (err) {\n                    this.logger.error(\n                        {\n                            err,\n                            tnx: 'send',\n                            messageId\n                        },\n                        'Failed building JSON structure for %s. %s',\n                        messageId,\n                        err.message\n                    );\n                    return done(err);\n                }\n\n                delete data.envelope;\n                delete data.normalizedHeaders;\n\n                return done(null, {\n                    envelope,\n                    messageId,\n                    message: this.options.skipEncoding ? data : JSON.stringify(data)\n                });\n            });\n        });\n    }\n}\n\nmodule.exports = JSONTransport;\n"},"lineCount":null}},"error":null,"hash":"2b5649b07a8fa7eefa4e6af1d6c20ed7","cacheData":{"env":{}}}