{"id":"bkCe","dependencies":[{"name":"D:\\WebstormProjects\\foodlab\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator\\transaction.js.map","includedInParent":true,"mtime":1657134159707},{"name":"D:\\WebstormProjects\\foodlab\\package.json","includedInParent":true,"mtime":1658081822400},{"name":"D:\\WebstormProjects\\foodlab\\.babelrc","includedInParent":true,"mtime":1658041983236},{"name":"D:\\WebstormProjects\\foodlab\\node_modules\\sequelize\\package.json","includedInParent":true,"mtime":1657134159056},{"name":"uuid","loc":{"line":2,"column":23,"index":37},"parent":"D:\\WebstormProjects\\foodlab\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator\\transaction.js","resolved":"D:\\WebstormProjects\\foodlab\\node_modules\\uuid\\dist\\esm-browser\\index.js"}],"generated":{"js":"\"use strict\";var n=require(\"uuid\").v4,t={setIsolationLevelQuery:function(n,t){if(!t.parent)return\"SET TRANSACTION ISOLATION LEVEL \".concat(n,\";\")},generateTransactionId:function(){return n()},startTransactionQuery:function(n){return n.parent?\"SAVEPOINT \".concat(this.quoteIdentifier(n.name,!0),\";\"):\"START TRANSACTION;\"},deferConstraintsQuery:function(){},setConstraintQuery:function(){},setDeferredQuery:function(){},setImmediateQuery:function(){},commitTransactionQuery:function(n){if(!n.parent)return\"COMMIT;\"},rollbackTransactionQuery:function(n){return n.parent?\"ROLLBACK TO SAVEPOINT \".concat(this.quoteIdentifier(n.name,!0),\";\"):\"ROLLBACK;\"}};module.exports=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":3,"column":15},"generated":{"line":1,"column":19}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":3,"column":23},"generated":{"line":1,"column":27}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":3,"column":31},"generated":{"line":1,"column":35}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":38}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":5,"column":27},"generated":{"line":1,"column":40}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":41}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":14,"column":25},"generated":{"line":1,"column":64}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":14,"column":25},"generated":{"line":1,"column":73}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":75}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":78}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":82}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":84}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":91}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":19,"column":46},"generated":{"line":1,"column":97}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":19,"column":46},"generated":{"line":1,"column":132}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":19,"column":46},"generated":{"line":1,"column":139}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":141}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":147}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":22,"column":26},"generated":{"line":1,"column":169}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":180}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":187}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":192}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":214}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":223}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":226}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":233}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":34,"column":20},"generated":{"line":1,"column":235}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":242}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":255}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":262}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":31},"generated":{"line":1,"column":267}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":283}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":59},"generated":{"line":1,"column":285}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":65},"generated":{"line":1,"column":291}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":294}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":299}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":321}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":343}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":356}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":44,"column":23},"generated":{"line":1,"column":375}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":388}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":405}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":418}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":436}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":449}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":55,"column":25},"generated":{"line":1,"column":472}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":55,"column":25},"generated":{"line":1,"column":481}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":484}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":488}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":490}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":497}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":503}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":70,"column":2},"generated":{"line":1,"column":514}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":539}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":548}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":551}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":558}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":560}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":38},"generated":{"line":1,"column":567}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":38},"generated":{"line":1,"column":592}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":38},"generated":{"line":1,"column":599}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":43},"generated":{"line":1,"column":604}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":59},"generated":{"line":1,"column":620}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":71},"generated":{"line":1,"column":622}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":77},"generated":{"line":1,"column":628}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":631}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":636}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":650}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":80,"column":7},"generated":{"line":1,"column":657}},{"source":"../../../../src/dialects/abstract/query-generator/transaction.js","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":665}}],"sources":{"../../../../src/dialects/abstract/query-generator/transaction.js":"'use strict';\n\nconst uuidv4 = require('uuid').v4;\n\nconst TransactionQueries = {\n  /**\n   * Returns a query that sets the transaction isolation level.\n   *\n   * @param  {string} value   The isolation level.\n   * @param  {object} options An object with options.\n   * @returns {string}         The generated sql query.\n   * @private\n   */\n  setIsolationLevelQuery(value, options) {\n    if (options.parent) {\n      return;\n    }\n\n    return `SET TRANSACTION ISOLATION LEVEL ${value};`;\n  },\n\n  generateTransactionId() {\n    return uuidv4();\n  },\n\n  /**\n   * Returns a query that starts a transaction.\n   *\n   * @param  {Transaction} transaction\n   * @returns {string}         The generated sql query.\n   * @private\n   */\n  startTransactionQuery(transaction) {\n    if (transaction.parent) {\n      // force quoting of savepoint identifiers for postgres\n      return `SAVEPOINT ${this.quoteIdentifier(transaction.name, true)};`;\n    }\n\n    return 'START TRANSACTION;';\n  },\n\n  deferConstraintsQuery() {},\n\n  setConstraintQuery() {},\n  setDeferredQuery() {},\n  setImmediateQuery() {},\n\n  /**\n   * Returns a query that commits a transaction.\n   *\n   * @param  {Transaction} transaction An object with options.\n   * @returns {string}         The generated sql query.\n   * @private\n   */\n  commitTransactionQuery(transaction) {\n    if (transaction.parent) {\n      return;\n    }\n\n    return 'COMMIT;';\n  },\n\n  /**\n   * Returns a query that rollbacks a transaction.\n   *\n   * @param  {Transaction} transaction\n   * @returns {string}         The generated sql query.\n   * @private\n   */\n  rollbackTransactionQuery(transaction) {\n    if (transaction.parent) {\n      // force quoting of savepoint identifiers for postgres\n      return `ROLLBACK TO SAVEPOINT ${this.quoteIdentifier(transaction.name, true)};`;\n    }\n\n    return 'ROLLBACK;';\n  }\n};\n\nmodule.exports = TransactionQueries;\n"},"lineCount":null}},"error":null,"hash":"33e41567df653974df87a9257c25b307","cacheData":{"env":{}}}